# Multi-round evaluation examples for training
# Each example has:
#   - system_prompt: optional system prompt for the conversation
#   - user_messages: list of user messages (assistant responses are generated)
#   - drop_messages: dict mapping message_id -> list of message IDs to drop before generating
#
# Message IDs are assigned sequentially:
#   - ID 0 = system prompt
#   - ID 1 = first user message
#   - ID 2 = first assistant response (generated)
#   - ID 3 = second user message
#   - ID 4 = second assistant response (generated)
#   - etc.
#
# Example: {3: [1, 2]} means when generating response to message 3 (second user),
#          drop messages 1 and 2 (first user + first assistant) after prefill.

examples:
  - name: "math_followup"
    system_prompt: "You are a helpful assistant."
    user_messages:
      - "What is 15 + 27?"           # ID 1, response will be ID 2
      - "Now multiply that result by 3."  # ID 3, response will be ID 4
    drop_messages:
      3: [1, 2]  # When generating response to user message 3, drop messages 1 & 2 (first Q&A)

  - name: "memory_test"
    system_prompt: "You are a helpful assistant."
    user_messages:
      - "My favorite color is blue and my lucky number is 7."  # ID 1
      - "What is my lucky number?"    # ID 3
      - "What is my favorite color?"  # ID 5
    drop_messages:
      3: [1, 2]  # When generating response to message 3, drop messages 1 & 2

  # - name: "coding_context"
  #   user_messages:
  #     - "Write a Python function to calculate factorial."  # ID 1
  #     - "Now add a docstring to the function."             # ID 3
  #   drop_messages:
  #     3: [0]  # Drop system prompt before generating response to message 3

  # - name: "story_continuation"
  #   user_messages:
  #     - "Start a story about a robot named Alex who lives in 2150."  # ID 1
  #     - "What happens when Alex discovers an old library?"           # ID 3
  #   drop_messages: {}  # No drops

  # - name: "translation_chain"
  #   user_messages:
  #     - "Translate 'Hello, how are you?' to French."      # ID 1
  #     - "Now translate the French phrase to Spanish."     # ID 3
  #   drop_messages:
  #     3: [0]  # Drop system prompt before generating response to message 3

